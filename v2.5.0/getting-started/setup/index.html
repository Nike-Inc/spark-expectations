
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Spark-Expectations is a framework for running data quality rules inflight of spark job.">
      
      
        <meta name="author" content="Ashok Singamaneni">
      
      
        <link rel="canonical" href="https://engineering.nike.com/spark-expectations/v2.5.0/getting-started/setup/">
      
      
        <link rel="prev" href="../..">
      
      
        <link rel="next" href="../../examples/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.0">
    
    
      
        <title>Setup - Spark-Expectations</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.9f615399.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.649f08f9.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../css/custom.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#prerequisites" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Spark-Expectations" class="md-header__button md-logo" aria-label="Spark-Expectations" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Spark-Expectations
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Setup
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/Nike-Inc/spark-expectations" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    nike/spark-expectations
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="./" class="md-tabs__link">
        
  
    
  
  Setup

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../examples/" class="md-tabs__link">
          
  
    
  
  Examples

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../api/core_init/" class="md-tabs__link">
          
  
    
  
  Python API

        </a>
      </li>
    
  

    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Spark-Expectations" class="md-nav__button md-logo" aria-label="Spark-Expectations" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Spark-Expectations
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Nike-Inc/spark-expectations" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    nike/spark-expectations
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Setup
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Setup
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
    <nav class="md-nav" aria-label="Prerequisites">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#python" class="md-nav__link">
    Python
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#java" class="md-nav__link">
    Java
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ide" class="md-nav__link">
    IDE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docker" class="md-nav__link">
    Docker
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#github-configuration" class="md-nav__link">
    Github Configuration
  </a>
  
    <nav class="md-nav" aria-label="Github Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-gpg-and-ssh-keys" class="md-nav__link">
    Create GPG and SSH Keys
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#environment-setup" class="md-nav__link">
    Environment Setup
  </a>
  
    <nav class="md-nav" aria-label="Environment Setup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hatch-installation" class="md-nav__link">
    Hatch Installation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#development-environment" class="md-nav__link">
    Development Environment
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-kafka-with-docker" class="md-nav__link">
    Running Kafka with Docker
  </a>
  
    <nav class="md-nav" aria-label="Running Kafka with Docker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#adding-certificates" class="md-nav__link">
    Adding Certificates
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-tests" class="md-nav__link">
    Running Tests
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configure-smtp-notifications" class="md-nav__link">
    Configure SMTP Notifications
  </a>
  
    <nav class="md-nav" aria-label="Configure SMTP Notifications">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#verifying-smtp-parameters" class="md-nav__link">
    Verifying SMTP Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#script-to-send-a-test-email" class="md-nav__link">
    Script to Send a Test Email
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testing-smtp-notifications" class="md-nav__link">
    Testing SMTP Notifications
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#library-installation" class="md-nav__link">
    Library Installation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#required-tables" class="md-nav__link">
    Required Tables
  </a>
  
    <nav class="md-nav" aria-label="Required Tables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rules-table" class="md-nav__link">
    Rules Table
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rule-type-for-rules" class="md-nav__link">
    Rule Type For Rules
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples-of-supported-rule-types" class="md-nav__link">
    Examples of Supported Rule Types
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#action-if-failed-for-row-aggregation-and-query-data-quality-rules" class="md-nav__link">
    Action If Failed For Row, Aggregation and Query Data Quality Rules
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dq-stats-table" class="md-nav__link">
    DQ Stats Table
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dq-detailed-stats-table" class="md-nav__link">
    DQ Detailed Stats Table
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Examples
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Understand Args
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../delta/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Delta
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../bigquery/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    BigQuery
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../iceberg/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Iceberg
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../configurations/rules/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rules
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../configurations/configure_rules/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configure Rules
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Python API
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Python API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_1" >
        
          <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Core
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            Core
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../api/core_init/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Init
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../api/context/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Context
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../api/exceptions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exceptions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../api/expectations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Expectations
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_2" >
        
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Sinks
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            Sinks
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../api/sinks_init/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Init
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../api/base_sink_plugin/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Base_Writer_Plugin
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../api/kafka_sink_plugin/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kafka_Sink_plugin
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_2_4" >
        
          <label class="md-nav__link" for="__nav_4_2_4" id="__nav_4_2_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Utils
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2_4">
            <span class="md-nav__icon md-icon"></span>
            Utils
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../api/writer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Writer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../api/sinks_decorater/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sink_Decorater
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_3" >
        
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Notification
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            Notification
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../api/notifications_init/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Init
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../api/base_notification_plugin/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Base_Notification_plugin
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../api/email_plugin/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Email_Notification_plugin
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../api/slack_plugin/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Slack_Notification_plugin
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_3_5" >
        
          <label class="md-nav__link" for="__nav_4_3_5" id="__nav_4_3_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Push
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3_5">
            <span class="md-nav__icon md-icon"></span>
            Push
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../api/notifications_decorater/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Notification_Decorater
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_4" >
        
          <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Utils
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            Utils
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../api/actions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Actions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../api/reader/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reader
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../api/regulate_flow/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Regulate_flow
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../api/udf/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Udf
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_5" >
        
          <label class="md-nav__link" for="__nav_4_5" id="__nav_4_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Examples
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_5">
            <span class="md-nav__icon md-icon"></span>
            Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../api/base_setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Base_Setup
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
    <nav class="md-nav" aria-label="Prerequisites">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#python" class="md-nav__link">
    Python
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#java" class="md-nav__link">
    Java
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ide" class="md-nav__link">
    IDE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docker" class="md-nav__link">
    Docker
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#github-configuration" class="md-nav__link">
    Github Configuration
  </a>
  
    <nav class="md-nav" aria-label="Github Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-gpg-and-ssh-keys" class="md-nav__link">
    Create GPG and SSH Keys
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#environment-setup" class="md-nav__link">
    Environment Setup
  </a>
  
    <nav class="md-nav" aria-label="Environment Setup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hatch-installation" class="md-nav__link">
    Hatch Installation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#development-environment" class="md-nav__link">
    Development Environment
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-kafka-with-docker" class="md-nav__link">
    Running Kafka with Docker
  </a>
  
    <nav class="md-nav" aria-label="Running Kafka with Docker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#adding-certificates" class="md-nav__link">
    Adding Certificates
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-tests" class="md-nav__link">
    Running Tests
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configure-smtp-notifications" class="md-nav__link">
    Configure SMTP Notifications
  </a>
  
    <nav class="md-nav" aria-label="Configure SMTP Notifications">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#verifying-smtp-parameters" class="md-nav__link">
    Verifying SMTP Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#script-to-send-a-test-email" class="md-nav__link">
    Script to Send a Test Email
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testing-smtp-notifications" class="md-nav__link">
    Testing SMTP Notifications
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#library-installation" class="md-nav__link">
    Library Installation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#required-tables" class="md-nav__link">
    Required Tables
  </a>
  
    <nav class="md-nav" aria-label="Required Tables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rules-table" class="md-nav__link">
    Rules Table
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rule-type-for-rules" class="md-nav__link">
    Rule Type For Rules
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples-of-supported-rule-types" class="md-nav__link">
    Examples of Supported Rule Types
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#action-if-failed-for-row-aggregation-and-query-data-quality-rules" class="md-nav__link">
    Action If Failed For Row, Aggregation and Query Data Quality Rules
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dq-stats-table" class="md-nav__link">
    DQ Stats Table
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dq-detailed-stats-table" class="md-nav__link">
    DQ Detailed Stats Table
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


  <h1>Setup</h1>

<h2 id="prerequisites">Prerequisites<a class="headerlink" href="#prerequisites" title="Permanent link">&para;</a></h2>
<h3 id="python">Python<a class="headerlink" href="#python" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Supported versions:</strong> 3.9, 3.10, 3.11, 3.12 (recommended: latest 3.12.x)</li>
<li><strong>Check version:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="w">    </span>python3<span class="w"> </span>--version
</code></pre></div></li>
<li><strong>Install Python:</strong> You can install Python by downloading it from <a href="https://www.python.org/downloads/">python.org</a> or by using a version manager such as <a href="https://github.com/pyenv/pyenv">pyenv</a>.</li>
</ul>
<h3 id="java">Java<a class="headerlink" href="#java" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Supported versions:</strong> 8, 11, 17 (recommended: latest 17.x)</li>
<li><strong>Recommendation:</strong> Use a JDK version manager such as <a href="https://sdkman.io/">SDKMAN!</a> or <a href="https://openjdk.org/">OpenJDK</a>(Linux/macOS) or an equivalent tool for your operating system to install and manage Java versions.</li>
<li><strong>JAVA_HOME:</strong> If your tools or environment require it, set the <code>JAVA_HOME</code> environment variable to point to your installed JDK. Refer to your JDK version manager’s documentation for instructions.</li>
</ul>
<h3 id="ide">IDE<a class="headerlink" href="#ide" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Recommended:</strong> <a href="https://code.visualstudio.com/">Visual Studio Code</a></li>
<li><strong>Other options:</strong> <a href="https://www.jetbrains.com/pycharm/">PyCharm</a></li>
<li><strong>Recommended VS Code Extensions:</strong></li>
<li>Python</li>
<li>Pylance</li>
<li>Black Formatter</li>
<li>YAML</li>
<li>Docker</li>
<li>Markdown</li>
</ul>
<h3 id="docker">Docker<a class="headerlink" href="#docker" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Requirement:</strong> A container engine is required for running Kafka and some integration tests. You can use Docker, Podman, containerd, Rancher, or any equivalent container runtime for your operating system.</li>
</ul>
<h2 id="github-configuration">Github Configuration<a class="headerlink" href="#github-configuration" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>Required:</strong> A GitHub account to access the source code and documentation.</li>
</ul>
<h3 id="create-gpg-and-ssh-keys">Create GPG and SSH Keys<a class="headerlink" href="#create-gpg-and-ssh-keys" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>GPG:</strong> Use GPG for signing commits and tags.<br />
  See <a href="https://docs.github.com/en/authentication/managing-commit-signature-verification/generating-a-new-gpg-key">GitHub Docs – Generate a GPG Key</a>.</li>
<li><strong>SSH:</strong> Use SSH for connecting to and interacting with remote repositories.<br />
  See <a href="https://docs.github.com/en/authentication/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent">GitHub Docs – Generate an SSH Key</a>.</li>
<li><strong>Clone the repository:</strong><br />
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="w">    </span>git<span class="w"> </span>clone<span class="w"> </span>git@github.com:Nike-Inc/spark-expectations.git
</code></pre></div></li>
</ul>
<h2 id="environment-setup">Environment Setup<a class="headerlink" href="#environment-setup" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>Create a virtual environment:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="w">    </span>python3<span class="w"> </span>-m<span class="w"> </span>venv<span class="w"> </span>.venv
</code></pre></div></li>
<li><strong>Activate virtual environment:</strong></li>
<li><strong>Linux/macOS:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="w">    </span><span class="nb">source</span><span class="w"> </span>.venv/bin/activate
</code></pre></div></li>
<li><strong>Install Dependencies:</strong>
All required and optional dependencies are managed via <code>pyproject.toml</code>. If you use the provided make commands (<code>make dev</code> or <code>make deploy_env_setup</code>), all Python dependencies and dev tools will be installed automatically. You only need to manually install system-level dependencies (Python and Java) and VS Code extensions.</li>
</ul>
<h3 id="hatch-installation">Hatch Installation<a class="headerlink" href="#hatch-installation" title="Permanent link">&para;</a></h3>
<p>This project uses <a href="https://hatch.pypa.io/latest/">Hatch</a> for Python environment and dependency management.<br />
You must install Hatch before running the development setup commands.
<strong>To install Hatch:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>pip3<span class="w"> </span>install<span class="w"> </span>--user<span class="w"> </span>hatch
</code></pre></div>
<strong>To view Hatch Environments:</strong>
This shows which environments are available for development, testing, and other workflows, and how they are configured for your project. 
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>hatch<span class="w"> </span>show<span class="w"> </span>env
</code></pre></div></p>
<h3 id="development-environment">Development Environment<a class="headerlink" href="#development-environment" title="Permanent link">&para;</a></h3>
<p>Before running any tests, make sure your development environment is set up and all dependencies are installed:
  <code>sh
make dev</code>
or 
  <div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>make<span class="w"> </span>deploy_env_setup
</code></pre></div></p>
<h2 id="running-kafka-with-docker">Running Kafka with Docker<a class="headerlink" href="#running-kafka-with-docker" title="Permanent link">&para;</a></h2>
<p>This project provides a Docker container for running Spark-Expectations in a controlled environment. The script below will build and start a Kafka service in a Docker container, making it available for integration tests or local development.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>sh<span class="w"> </span>./spark_expectations/examples/docker_scripts/docker_kafka_start_script.sh<span class="w">  </span>
</code></pre></div>
<p>This script will:
- Build the required Docker image (if it does not already exist)
- Start a Kafka service in a Docker container
- Make Kafka available for integration tests or local development</p>
<p><strong>Note:</strong>
- Ensure Docker is installed and running on your system before executing this script.
- The script automates both the build and run steps for Kafka, so you do not need to run <code>docker build</code> or <code>docker run</code> manually.</p>
<h3 id="adding-certificates">Adding Certificates<a class="headerlink" href="#adding-certificates" title="Permanent link">&para;</a></h3>
<p>To enable trusted SSL/TLS communication during Spark-Expectations testing, you may need to provide custom Certificate Authority (CA) certificates. Place any required <code>.crt</code> files in the <code>spark_expectations/examples/docker_scripts/certs</code> directory. During test container startup, all certificates in this folder will be automatically imported into the container’s trusted certificate store, ensuring that your Spark jobs and dependencies can establish secure connections as needed.</p>
<h2 id="running-tests">Running Tests<a class="headerlink" href="#running-tests" title="Permanent link">&para;</a></h2>
<p>To run the test suite for the Spark-Expectations project, follow these steps:</p>
<p><strong>To run the full test suite:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>make<span class="w"> </span><span class="nb">test</span>
</code></pre></div>
<strong>To run all tests and generate a coverage report:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>make<span class="w"> </span>cov
</code></pre></div></p>
<p><strong>Troubleshooting:</strong>
If you encounter issues, try cleaning and recreating the environment.
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>make<span class="w"> </span>env-remove-all
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>make<span class="w"> </span>dev
</code></pre></div></p>
<h2 id="configure-smtp-notifications">Configure SMTP Notifications<a class="headerlink" href="#configure-smtp-notifications" title="Permanent link">&para;</a></h2>
<p>To enable email notifications (such as alerts for data quality failures) in Spark-Expectations, you need to configure SMTP settings. 
You can reference the <code>user_config.py</code> file in the <code>spark_expectations/config</code> directory to access / setup the SMTP configuration parameters. This file should contain the necessary SMTP/email notification settings for Spark-Expectations.</p>
<h3 id="verifying-smtp-parameters">Verifying SMTP Parameters<a class="headerlink" href="#verifying-smtp-parameters" title="Permanent link">&para;</a></h3>
<p>Before using SMTP notifications, verify that the following parameters are set correctly in your configuration (see <code>user_config.py</code> for the exact constant names):</p>
<ul>
<li>SMTP server host</li>
<li>SMTP server port</li>
<li>SMTP username</li>
<li>SMTP password</li>
<li>Sender email address (<code>from</code>)</li>
<li>Recipient email address(es) (<code>to</code>)</li>
<li>Enable/disable SMTP authentication and TLS as needed</li>
</ul>
<h3 id="script-to-send-a-test-email">Script to Send a Test Email<a class="headerlink" href="#script-to-send-a-test-email" title="Permanent link">&para;</a></h3>
<p>You can use the following Python script to test your SMTP configuration. This script will send a test email using the configured SMTP settings. Make sure to replace the placeholders with your actual SMTP configuration values.
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">email.mime.text</span><span class="w"> </span><span class="kn">import</span> <span class="n">MIMEText</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="n">smtp_host</span> <span class="o">=</span> <span class="s2">&quot;smtp.example.com&quot;</span>
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="n">smtp_port</span> <span class="o">=</span> <span class="mi">587</span>
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="n">smtp_user</span> <span class="o">=</span> <span class="s2">&quot;your_email@example.com&quot;</span>
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="n">smtp_password</span> <span class="o">=</span> <span class="s2">&quot;your_password&quot;</span>
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="n">smtp_from</span> <span class="o">=</span> <span class="s2">&quot;your_email@example.com&quot;</span>
<a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a><span class="n">smtp_to</span> <span class="o">=</span> <span class="s2">&quot;recipient@example.com&quot;</span>
<a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a>
<a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a><span class="n">msg</span> <span class="o">=</span> <span class="n">MIMEText</span><span class="p">(</span><span class="s2">&quot;This is a test email from Spark-Expectations SMTP setup.&quot;</span><span class="p">)</span>
<a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a><span class="n">msg</span><span class="p">[</span><span class="s2">&quot;Subject&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Spark-Expectations SMTP Test&quot;</span>
<a id="__codelineno-11-12" name="__codelineno-11-12" href="#__codelineno-11-12"></a><span class="n">msg</span><span class="p">[</span><span class="s2">&quot;From&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">smtp_from</span>
<a id="__codelineno-11-13" name="__codelineno-11-13" href="#__codelineno-11-13"></a><span class="n">msg</span><span class="p">[</span><span class="s2">&quot;To&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">smtp_to</span>
<a id="__codelineno-11-14" name="__codelineno-11-14" href="#__codelineno-11-14"></a>
<a id="__codelineno-11-15" name="__codelineno-11-15" href="#__codelineno-11-15"></a><span class="k">with</span> <span class="n">smtplib</span><span class="o">.</span><span class="n">SMTP</span><span class="p">(</span><span class="n">smtp_host</span><span class="p">,</span> <span class="n">smtp_port</span><span class="p">)</span> <span class="k">as</span> <span class="n">server</span><span class="p">:</span>
<a id="__codelineno-11-16" name="__codelineno-11-16" href="#__codelineno-11-16"></a>    <span class="n">server</span><span class="o">.</span><span class="n">starttls</span><span class="p">()</span>
<a id="__codelineno-11-17" name="__codelineno-11-17" href="#__codelineno-11-17"></a>    <span class="n">server</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="n">smtp_user</span><span class="p">,</span> <span class="n">smtp_password</span><span class="p">)</span>
<a id="__codelineno-11-18" name="__codelineno-11-18" href="#__codelineno-11-18"></a>    <span class="n">server</span><span class="o">.</span><span class="n">sendmail</span><span class="p">(</span><span class="n">smtp_from</span><span class="p">,</span> <span class="p">[</span><span class="n">smtp_to</span><span class="p">],</span> <span class="n">msg</span><span class="o">.</span><span class="n">as_string</span><span class="p">())</span>
<a id="__codelineno-11-19" name="__codelineno-11-19" href="#__codelineno-11-19"></a>
<a id="__codelineno-11-20" name="__codelineno-11-20" href="#__codelineno-11-20"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Test email sent successfully.&quot;</span><span class="p">)</span>
</code></pre></div>
<strong>Note:</strong>
Never commit sensitive credentials (like SMTP passwords) to version control. Use environment variables or a secure secrets manager.
Make sure your SMTP server allows connections from your environment (some providers may require app passwords or special settings).</p>
<h2 id="testing-smtp-notifications">Testing SMTP Notifications<a class="headerlink" href="#testing-smtp-notifications" title="Permanent link">&para;</a></h2>
<p>To test the email notifications, you can use the provided <code>make</code> commands to start and stop a local mail server. 
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>make<span class="w"> </span>local-mail-server-start
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>make<span class="w"> </span>local-mail-server-stop
</code></pre></div></p>
<h2 id="library-installation">Library Installation<a class="headerlink" href="#library-installation" title="Permanent link">&para;</a></h2>
<p>The library is available in the Python Package Index (PyPi) and can be installed in your environment using the below command or 
add the library "spark-expectations" as a dependency into the <code>requirements.txt</code> of your project, or as per your project management tool requires (e.g. poetry, hatch, uv).</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>pip<span class="w"> </span>install<span class="w"> </span>-U<span class="w"> </span>spark-expectations
</code></pre></div>
<h2 id="required-tables">Required Tables<a class="headerlink" href="#required-tables" title="Permanent link">&para;</a></h2>
<p>There are two tables that need to be created for spark-expectations to run seamlessly and integrate with a spark job.
The below SQL statements used three namespaces which works with Databricks Unity Catalog, but if you are using hive
please update the namespaces accordingly and also provide necessary table metadata.</p>
<h3 id="rules-table">Rules Table<a class="headerlink" href="#rules-table" title="Permanent link">&para;</a></h3>
<p>We need to create a rules tables which contains all the data quality rules. Please use the below template to create
your rules table for your project.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">exists</span><span class="w"> </span><span class="o">`</span><span class="k">catalog</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="k">schema</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="err">{</span><span class="n">product</span><span class="err">}</span><span class="n">_rules</span><span class="o">`</span><span class="w"> </span><span class="p">(</span>
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="w">    </span><span class="n">product_id</span><span class="w"> </span><span class="n">STRING</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (1)!</span>
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="w">    </span><span class="k">table_name</span><span class="w"> </span><span class="n">STRING</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (2)!</span>
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="w">    </span><span class="n">rule_type</span><span class="w"> </span><span class="n">STRING</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (3)!</span>
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="w">    </span><span class="k">rule</span><span class="w"> </span><span class="n">STRING</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (4)!</span>
<a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a><span class="w">    </span><span class="k">column_name</span><span class="w"> </span><span class="n">STRING</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (5)!</span>
<a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a><span class="w">    </span><span class="n">expectation</span><span class="w"> </span><span class="n">STRING</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (6)!</span>
<a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a><span class="w">    </span><span class="n">action_if_failed</span><span class="w"> </span><span class="n">STRING</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (7)!</span>
<a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a><span class="w">    </span><span class="n">tag</span><span class="w"> </span><span class="n">STRING</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (8)!</span>
<a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a><span class="w">    </span><span class="n">description</span><span class="w"> </span><span class="n">STRING</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (9)!</span>
<a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a><span class="w">    </span><span class="n">enable_for_source_dq_validation</span><span class="w"> </span><span class="nb">BOOLEAN</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (10)! </span>
<a id="__codelineno-14-12" name="__codelineno-14-12" href="#__codelineno-14-12"></a><span class="w">    </span><span class="n">enable_for_target_dq_validation</span><span class="w"> </span><span class="nb">BOOLEAN</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (11)!</span>
<a id="__codelineno-14-13" name="__codelineno-14-13" href="#__codelineno-14-13"></a><span class="w">    </span><span class="n">is_active</span><span class="w"> </span><span class="nb">BOOLEAN</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (12)!</span>
<a id="__codelineno-14-14" name="__codelineno-14-14" href="#__codelineno-14-14"></a><span class="w">    </span><span class="n">enable_error_drop_alert</span><span class="w"> </span><span class="nb">BOOLEAN</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (13)!</span>
<a id="__codelineno-14-15" name="__codelineno-14-15" href="#__codelineno-14-15"></a><span class="w">    </span><span class="n">error_drop_threshold</span><span class="w"> </span><span class="nb">INT</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (14)!</span>
<a id="__codelineno-14-16" name="__codelineno-14-16" href="#__codelineno-14-16"></a><span class="w">    </span><span class="n">query_dq_delimiter</span><span class="w"> </span><span class="n">STRING</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (15)!</span>
<a id="__codelineno-14-17" name="__codelineno-14-17" href="#__codelineno-14-17"></a><span class="w">    </span><span class="n">enable_querydq_custom_output</span><span class="w"> </span><span class="nb">BOOLEAN</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (16)!</span>
<a id="__codelineno-14-18" name="__codelineno-14-18" href="#__codelineno-14-18"></a><span class="p">);</span>
</code></pre></div>
<ol>
<li><code>product_id</code> A unique name at the level of dq rules execution</li>
<li><code>table_name</code> The table for which the rule is being defined for</li>
<li><code>rule_type</code> 3 different type of rules. They are 'row_dq', 'agg_dq' and 'query_dq'</li>
<li><code>rule</code> Short description of the rule </li>
<li><code>column_name</code> The column name for which the rule is defined for. This only applies for row_dq. For agg_dq and query_dq, use blank/empty value. </li>
<li><code>expectation</code> Provide the DQ rule condition </li>
<li><code>action_if_failed</code> There are 3 different types of actions. These are 'ignore', 'drop', and 'fail'. 
    Ignore: The rule is run and the output is logged. No action is performed regardless of whether the rule has succeeded or failed. Applies for all 3 rule types. 
    Drop: The rows that fail the rule get dropped from the dataset. Applies for only row_dq rule type.
    Fail: job fails if the rule fails. Applies for all 3 rule types.</li>
<li><code>tag</code> provide some tag name to dq rule example:  completeness, validity, uniqueness etc. </li>
<li><code>description</code>  Long description for the rule</li>
<li><code>enable_for_source_dq_validation</code> flag to run the agg rule</li>
<li><code>enable_for_target_dq_validation</code> flag to run the query rule</li>
<li><code>is_active</code> true or false to indicate if the rule is active or not. </li>
<li><code>enable_error_drop_alert</code> true or false. This determines if an alert notification should be sent out if row(s) is(are) dropped from the data set</li>
<li><code>error_drop_threshold</code> Threshold for the alert notification that gets triggered when row(s) is(are) dropped from the data set</li>
<li><code>query_dq_delimiter</code> segregate custom queries delimiter ex: $, @ etc. By default it is @. Users can override it with any other delimiter based on the need. The same delimiter mentioned here has to be used in the custom query.</li>
<li><code>enable_querydq_custom_output</code> required custom query output in separate table</li>
</ol>
<p>The Spark Expectation process consists of three phases:
1. When enable_for_source_dq_validation is true, execute agg_dq and query_dq on the source Dataframe
2. If the first step is successful, proceed to run row_dq
3. When enable_for_target_dq_validation is true, exeucte agg_dq and query_dq on the Dataframe resulting from row_dq</p>
<h3 id="rule-type-for-rules">Rule Type For Rules<a class="headerlink" href="#rule-type-for-rules" title="Permanent link">&para;</a></h3>
<p>The rules column has a column called "rule_type". It is important that this column should only accept one of 
these three values - <code>[row_dq, agg_dq, query_dq]</code>. If other values are provided, the library may cause unforeseen errors.
Please run the below command to add constraints to the above created rules table</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="o">`</span><span class="k">catalog</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="k">schema</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="err">{</span><span class="n">product</span><span class="err">}</span><span class="n">_rules</span><span class="o">`</span><span class="w"> </span>
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="k">ADD</span><span class="w"> </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="n">rule_type_action</span><span class="w"> </span><span class="k">CHECK</span><span class="w"> </span><span class="p">(</span><span class="n">rule_type</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;row_dq&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;agg_dq&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;query_dq&#39;</span><span class="p">));</span>
</code></pre></div>
<h3 id="examples-of-supported-rule-types">Examples of Supported Rule Types<a class="headerlink" href="#examples-of-supported-rule-types" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><strong>Row DQ</strong>: 
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="o">`</span><span class="k">catalog</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="k">schema</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="err">{</span><span class="n">product</span><span class="err">}</span><span class="n">_rules</span><span class="o">`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;your_product&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;your_table&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;row_dq&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;check_nulls&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;column_name&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;is not null&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;drop&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;completeness&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Check for null values in column_name&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">true</span><span class="p">,</span><span class="w"> </span><span class="k">true</span><span class="p">,</span><span class="w"> </span><span class="k">true</span><span class="p">,</span><span class="w"> </span><span class="k">false</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
</code></pre></div></p>
</li>
<li>
<p><strong>Aggregation DQ</strong>: 
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="o">`</span><span class="k">catalog</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="k">schema</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="err">{</span><span class="n">product</span><span class="err">}</span><span class="n">_rules</span><span class="o">`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;your_product&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;your_table&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;agg_dq&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;check_row_count&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;COUNT(*) &gt; 0&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;fail&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;completeness&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Ensure the table has at least one row&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">true</span><span class="p">,</span><span class="w"> </span><span class="k">true</span><span class="p">,</span><span class="w"> </span><span class="k">true</span><span class="p">,</span><span class="w"> </span><span class="k">false</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
</code></pre></div></p>
</li>
<li>
<p><strong>Query DQ</strong>:
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="o">`</span><span class="k">catalog</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="k">schema</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="err">{</span><span class="n">product</span><span class="err">}</span><span class="n">_rules</span><span class="o">`</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;your_product&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;your_table&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;query_dq&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;check_custom_query&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;SELECT COUNT(*) FROM your_table WHERE column_name IS NULL&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;ignore&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;validity&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Custom query to check for null values in column_name&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">false</span><span class="p">,</span><span class="w"> </span><span class="k">true</span><span class="p">,</span><span class="w"> </span><span class="k">true</span><span class="p">,</span><span class="w"> </span><span class="k">false</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
</code></pre></div></p>
</li>
</ul>
<h3 id="action-if-failed-for-row-aggregation-and-query-data-quality-rules">Action If Failed For Row, Aggregation and Query Data Quality Rules<a class="headerlink" href="#action-if-failed-for-row-aggregation-and-query-data-quality-rules" title="Permanent link">&para;</a></h3>
<p>The rules column has a column called "action_if_failed". It is important that this column should only accept one of 
these values - <code>[fail, drop or ignore]</code> for <code>'rule_type'='row_dq'</code> and <code>[fail, ignore]</code> for <code>'rule_type'='agg_dq' and 'rule_type'='query_dq'</code>. 
If other values are provided, the library may cause unforeseen errors.
Please run the below command to add constraints to the above created rules table</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">apla_nd_dq_rules</span><span class="w"> </span><span class="k">ADD</span><span class="w"> </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="n">action</span><span class="w"> </span><span class="k">CHECK</span><span class="w"> </span>
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="p">((</span><span class="n">rule_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;row_dq&#39;</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">action_if_failed</span><span class="w"> </span><span class="k">IN</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;ignore&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;drop&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;fail&#39;</span><span class="p">))</span><span class="w"> </span><span class="k">or</span><span class="w"> </span>
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a><span class="p">(</span><span class="n">rule_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;agg_dq&#39;</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">action_if_failed</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;ignore&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;fail&#39;</span><span class="p">))</span><span class="w"> </span><span class="k">or</span><span class="w"> </span>
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a><span class="p">(</span><span class="n">rule_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;query_dq&#39;</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">action_if_failed</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;ignore&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;fail&#39;</span><span class="p">)));</span>
</code></pre></div>
<h3 id="dq-stats-table">DQ Stats Table<a class="headerlink" href="#dq-stats-table" title="Permanent link">&para;</a></h3>
<p>In order to collect the stats/metrics for each data quality job run, the spark-expectations job will
automatically create the stats table if it does not exist. The below SQL statement can be used to create the table
if you want to create it manually, but it is not recommended.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">exists</span><span class="w"> </span><span class="o">`</span><span class="k">catalog</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="k">schema</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">dq_stats</span><span class="o">`</span><span class="w"> </span><span class="p">(</span>
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="w">    </span><span class="n">product_id</span><span class="w"> </span><span class="n">STRING</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (1)!</span>
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="w">    </span><span class="k">table_name</span><span class="w"> </span><span class="n">STRING</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (2)!</span>
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="w">    </span><span class="n">input_count</span><span class="w"> </span><span class="n">LONG</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (3)!</span>
<a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a><span class="w">    </span><span class="n">error_count</span><span class="w"> </span><span class="n">LONG</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (4)!</span>
<a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a><span class="w">    </span><span class="n">output_count</span><span class="w"> </span><span class="n">LONG</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (5)!</span>
<a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a><span class="w">    </span><span class="n">output_percentage</span><span class="w"> </span><span class="nb">FLOAT</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (6)!</span>
<a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a><span class="w">    </span><span class="n">success_percentage</span><span class="w"> </span><span class="nb">FLOAT</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (7)!</span>
<a id="__codelineno-20-9" name="__codelineno-20-9" href="#__codelineno-20-9"></a><span class="w">    </span><span class="n">error_percentage</span><span class="w"> </span><span class="nb">FLOAT</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (8)!</span>
<a id="__codelineno-20-10" name="__codelineno-20-10" href="#__codelineno-20-10"></a><span class="w">    </span><span class="n">source_agg_dq_results</span><span class="w"> </span><span class="nb">array</span><span class="o">&lt;</span><span class="k">map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span><span class="w"> </span><span class="n">string</span><span class="o">&gt;&gt;</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (9)!</span>
<a id="__codelineno-20-11" name="__codelineno-20-11" href="#__codelineno-20-11"></a><span class="w">    </span><span class="n">final_agg_dq_results</span><span class="w"> </span><span class="nb">array</span><span class="o">&lt;</span><span class="k">map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span><span class="w"> </span><span class="n">string</span><span class="o">&gt;&gt;</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (10)!</span>
<a id="__codelineno-20-12" name="__codelineno-20-12" href="#__codelineno-20-12"></a><span class="w">    </span><span class="n">source_query_dq_results</span><span class="w"> </span><span class="nb">array</span><span class="o">&lt;</span><span class="k">map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span><span class="w"> </span><span class="n">string</span><span class="o">&gt;&gt;</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (11)!</span>
<a id="__codelineno-20-13" name="__codelineno-20-13" href="#__codelineno-20-13"></a><span class="w">    </span><span class="n">final_query_dq_results</span><span class="w"> </span><span class="nb">array</span><span class="o">&lt;</span><span class="k">map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span><span class="w"> </span><span class="n">string</span><span class="o">&gt;&gt;</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (12)!</span>
<a id="__codelineno-20-14" name="__codelineno-20-14" href="#__codelineno-20-14"></a><span class="w">    </span><span class="n">row_dq_res_summary</span><span class="w"> </span><span class="nb">array</span><span class="o">&lt;</span><span class="k">map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span><span class="w"> </span><span class="n">string</span><span class="o">&gt;&gt;</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (13)!</span>
<a id="__codelineno-20-15" name="__codelineno-20-15" href="#__codelineno-20-15"></a><span class="w">    </span><span class="n">row_dq_error_threshold</span><span class="w"> </span><span class="nb">array</span><span class="o">&lt;</span><span class="k">map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span><span class="w"> </span><span class="n">string</span><span class="o">&gt;&gt;</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (14)!</span>
<a id="__codelineno-20-16" name="__codelineno-20-16" href="#__codelineno-20-16"></a><span class="w">    </span><span class="n">dq_status</span><span class="w"> </span><span class="k">map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span><span class="w"> </span><span class="n">string</span><span class="o">&gt;</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (15)!</span>
<a id="__codelineno-20-17" name="__codelineno-20-17" href="#__codelineno-20-17"></a><span class="w">    </span><span class="n">dq_run_time</span><span class="w"> </span><span class="k">map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span><span class="w"> </span><span class="nb">float</span><span class="o">&gt;</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (16)!</span>
<a id="__codelineno-20-18" name="__codelineno-20-18" href="#__codelineno-20-18"></a><span class="w">    </span><span class="n">dq_rules</span><span class="w"> </span><span class="k">map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span><span class="w"> </span><span class="k">map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span><span class="nb">int</span><span class="o">&gt;&gt;</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (17)!</span>
<a id="__codelineno-20-19" name="__codelineno-20-19" href="#__codelineno-20-19"></a><span class="w">    </span><span class="n">meta_dq_run_id</span><span class="w"> </span><span class="n">STRING</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (18)!</span>
<a id="__codelineno-20-20" name="__codelineno-20-20" href="#__codelineno-20-20"></a><span class="w">    </span><span class="n">meta_dq_run_date</span><span class="w"> </span><span class="nb">DATE</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (19)!</span>
<a id="__codelineno-20-21" name="__codelineno-20-21" href="#__codelineno-20-21"></a><span class="w">    </span><span class="n">meta_dq_run_datetime</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (20)!</span>
<a id="__codelineno-20-22" name="__codelineno-20-22" href="#__codelineno-20-22"></a><span class="w">    </span><span class="n">dq_env</span><span class="w"> </span><span class="n">STRING</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (21)!</span>
<a id="__codelineno-20-23" name="__codelineno-20-23" href="#__codelineno-20-23"></a><span class="p">);</span>
</code></pre></div>
<ol>
<li><code>product_id</code> A unique name at the level of dq rules execution</li>
<li><code>table_name</code> The table for which the rule is being defined for</li>
<li><code>input_count</code> total input row count of given dataframe</li>
<li><code>error_count</code> total error count for all row_dq rules</li>
<li><code>output_count</code> total count of records that passed the row_dq rules or configured to be ignored when they fail</li>
<li><code>output_percentage</code> percentage of total count of records that passed the row_dq rules or configured to be ignored when they fail</li>
<li><code>success_percentage</code> percentage of total count of records that passed the row_dq rules</li>
<li><code>error_percentage</code> percentage of total count of records that failed the row_dq rules</li>
<li><code>source_agg_dq_results</code> results for agg dq rules are stored after row_dq rules executed in an array with each entry as a map\&lt;string, string&gt; containing the following keys: <code>description</code>, <code>tag</code>, <code>column_name</code>, <code>rule</code>, <code>rule_type</code>, <code>status</code>, <code>action_if_failed</code></li>
<li><code>final_agg_dq_results</code> results for agg dq rules are stored after row_dq rules executed in an array with each entry as a map\&lt;string, string&gt; containing the following keys: <code>description</code>, <code>tag</code>, <code>column_name</code>, <code>rule</code>, <code>rule_type</code>, <code>status</code>, <code>action_if_failed</code></li>
<li><code>source_query_dq_results</code> results for query dq rules are stored after row_dq rules executed in an array with each entry as a map\&lt;string, string&gt; containing the following keys: <code>description</code>, <code>tag</code>, <code>column_name</code>, <code>rule</code>, <code>rule_type</code>, <code>status</code>, <code>action_if_failed</code></li>
<li><code>final_query_dq_results</code> results for query dq rules are stored after row_dq rules executed in an array with each entry as a map\&lt;string, string&gt; containing the following keys: <code>description</code>, <code>tag</code>, <code>column_name</code>, <code>rule</code>, <code>rule_type</code>, <code>status</code>, <code>action_if_failed</code></li>
<li><code>row_dq_res_summary</code> summary of row dq results are stored in an array with each entry as a map\&lt;string, string&gt; containing the following keys: <code>description</code>, <code>tag</code>, <code>column_name</code>, <code>rule</code>, <code>rule_type</code>, <code>failed_row_count</code>, <code>action_if_failed</code></li>
<li><code>row_dq_error_threshold</code> error threshold results for rules defined in the rules table for row_dq rules are stored in an array with each entry as a map\&lt;string, string&gt; containing the following keys: <code>description</code>, <code>column_name</code> ,<code>error_drop_threshold</code>, <code>rule_type</code>, <code>action_if_failed</code>, <code>rule_name</code>, <code>error_drop_percentage</code></li>
<li><code>dq_status</code>  stores the status of the rule execution.</li>
<li><code>dq_run_time</code> time taken by the rules</li>
<li><code>dq_rules</code> how many dq rules are executed in this run</li>
<li><code>meta_dq_run_id</code> unique id generated for this run</li>
<li><code>meta_dq_run_date</code> date on which rule is executed</li>
<li><code>meta_dq_run_datetime</code> date and time on which rule is executed</li>
<li><code>dq_env</code> environment value passed from the user_config.se_dq_rules_params</li>
</ol>
<h3 id="dq-detailed-stats-table">DQ Detailed Stats Table<a class="headerlink" href="#dq-detailed-stats-table" title="Permanent link">&para;</a></h3>
<p>This table provides detailed stats of all the expectations along with the status provided in the stats table in a relational format.
This table need not be created. It gets auto created with "_detailed " to the dq stats table name. This is optional and only get's created if the config is set to have the detailed stats table.
Below is the schema</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">exists</span><span class="w"> </span><span class="o">`</span><span class="k">catalog</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="k">schema</span><span class="o">`</span><span class="p">.</span><span class="o">`</span><span class="n">dq_stats_detailed</span><span class="o">`</span><span class="w"> </span><span class="p">(</span>
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="n">run_id</span><span class="w"> </span><span class="n">string</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (1)!    </span>
<a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a><span class="n">product_id</span><span class="w"> </span><span class="n">string</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (2)!  </span>
<a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="k">table_name</span><span class="w"> </span><span class="n">string</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (3)!  </span>
<a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a><span class="n">rule_type</span><span class="w"> </span><span class="n">string</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (4)!  </span>
<a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a><span class="k">rule</span><span class="w"> </span><span class="n">string</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (5)!</span>
<a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a><span class="n">source_expectations</span><span class="w"> </span><span class="n">string</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (6)!</span>
<a id="__codelineno-21-8" name="__codelineno-21-8" href="#__codelineno-21-8"></a><span class="n">tag</span><span class="w"> </span><span class="n">string</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (7)!</span>
<a id="__codelineno-21-9" name="__codelineno-21-9" href="#__codelineno-21-9"></a><span class="n">description</span><span class="w"> </span><span class="n">string</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (8)!</span>
<a id="__codelineno-21-10" name="__codelineno-21-10" href="#__codelineno-21-10"></a><span class="n">source_dq_status</span><span class="w"> </span><span class="n">string</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (9)!</span>
<a id="__codelineno-21-11" name="__codelineno-21-11" href="#__codelineno-21-11"></a><span class="n">source_dq_actual_outcome</span><span class="w"> </span><span class="n">string</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (10)!</span>
<a id="__codelineno-21-12" name="__codelineno-21-12" href="#__codelineno-21-12"></a><span class="n">source_dq_expected_outcome</span><span class="w"> </span><span class="n">string</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (11)!</span>
<a id="__codelineno-21-13" name="__codelineno-21-13" href="#__codelineno-21-13"></a><span class="n">source_dq_actual_row_count</span><span class="w"> </span><span class="n">string</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (12)!</span>
<a id="__codelineno-21-14" name="__codelineno-21-14" href="#__codelineno-21-14"></a><span class="n">source_dq_error_row_count</span><span class="w"> </span><span class="n">string</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (13)!</span>
<a id="__codelineno-21-15" name="__codelineno-21-15" href="#__codelineno-21-15"></a><span class="n">source_dq_row_count</span><span class="w"> </span><span class="n">string</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (14)!</span>
<a id="__codelineno-21-16" name="__codelineno-21-16" href="#__codelineno-21-16"></a><span class="n">source_dq_start_time</span><span class="w"> </span><span class="n">string</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (15)!</span>
<a id="__codelineno-21-17" name="__codelineno-21-17" href="#__codelineno-21-17"></a><span class="n">source_dq_end_time</span><span class="w"> </span><span class="n">string</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (16)!</span>
<a id="__codelineno-21-18" name="__codelineno-21-18" href="#__codelineno-21-18"></a><span class="n">target_expectations</span><span class="w"> </span><span class="n">string</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (17)!</span>
<a id="__codelineno-21-19" name="__codelineno-21-19" href="#__codelineno-21-19"></a><span class="n">target_dq_status</span><span class="w"> </span><span class="n">string</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (18)!</span>
<a id="__codelineno-21-20" name="__codelineno-21-20" href="#__codelineno-21-20"></a><span class="n">target_dq_actual_outcome</span><span class="w"> </span><span class="n">string</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (19)!</span>
<a id="__codelineno-21-21" name="__codelineno-21-21" href="#__codelineno-21-21"></a><span class="n">target_dq_expected_outcome</span><span class="w"> </span><span class="n">string</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (20)!</span>
<a id="__codelineno-21-22" name="__codelineno-21-22" href="#__codelineno-21-22"></a><span class="n">target_dq_actual_row_count</span><span class="w"> </span><span class="n">string</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (21)!</span>
<a id="__codelineno-21-23" name="__codelineno-21-23" href="#__codelineno-21-23"></a><span class="n">target_dq_error_row_count</span><span class="w"> </span><span class="n">string</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (22)!</span>
<a id="__codelineno-21-24" name="__codelineno-21-24" href="#__codelineno-21-24"></a><span class="n">target_dq_row_count</span><span class="w"> </span><span class="n">string</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (23)!</span>
<a id="__codelineno-21-25" name="__codelineno-21-25" href="#__codelineno-21-25"></a><span class="n">target_dq_start_time</span><span class="w"> </span><span class="n">string</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (24)!</span>
<a id="__codelineno-21-26" name="__codelineno-21-26" href="#__codelineno-21-26"></a><span class="n">target_dq_end_time</span><span class="w"> </span><span class="n">string</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (25)!</span>
<a id="__codelineno-21-27" name="__codelineno-21-27" href="#__codelineno-21-27"></a><span class="n">dq_date</span><span class="w"> </span><span class="nb">date</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (26)!</span>
<a id="__codelineno-21-28" name="__codelineno-21-28" href="#__codelineno-21-28"></a><span class="n">dq_time</span><span class="w"> </span><span class="n">string</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (27)!</span>
<a id="__codelineno-21-29" name="__codelineno-21-29" href="#__codelineno-21-29"></a><span class="n">dq_job_metadata_info</span><span class="w"> </span><span class="n">string</span><span class="p">,</span><span class="w">  </span><span class="c1">-- (28)!</span>
<a id="__codelineno-21-30" name="__codelineno-21-30" href="#__codelineno-21-30"></a><span class="p">);</span>
</code></pre></div>
<ol>
<li><code>run_id</code> Run Id for a specific run </li>
<li><code>product_id</code> Unique product identifier </li>
<li><code>table_name</code> The target table where the final data gets inserted</li>
<li><code>rule_type</code> Either row/query/agg dq</li>
<li><code>rule</code>  Rule name</li>
<li><code>source_expectations</code> Actual Rule to be executed on the source dq</li>
<li><code>tag</code> completeness,uniqueness,validity,accuracy,consistency,</li>
<li><code>description</code> Description of the Rule</li>
<li><code>source_dq_status</code> Status of the rule execution in the Source dq</li>
<li><code>source_dq_actual_outcome</code> Actual outcome of the Source dq check</li>
<li><code>source_dq_expected_outcome</code> Expected outcome of the Source dq check</li>
<li><code>source_dq_actual_row_count</code> Number of rows of the source dq</li>
<li><code>source_dq_error_row_count</code> Number of rows failed in the source dq</li>
<li><code>source_dq_row_count</code> Number of rows of the source dq</li>
<li><code>source_dq_start_time</code> source dq start timestamp</li>
<li><code>source_dq_end_time</code> source dq end timestamp</li>
<li><code>target_expectations</code> Actual Rule to be executed on the target dq</li>
<li><code>target_dq_status</code> Status of the rule execution in the Target dq</li>
<li><code>target_dq_actual_outcome</code> Actual outcome of the Target dq check</li>
<li><code>target_dq_expected_outcome</code> Expected outcome of the Target dq check</li>
<li><code>target_dq_actual_row_count</code> Number of rows of the target dq</li>
<li><code>target_dq_error_row_count</code> Number of rows failed in the target dq</li>
<li><code>target_dq_row_count</code> Number of rows of the target dq</li>
<li><code>target_dq_start_time</code> target dq start timestamp</li>
<li><code>target_dq_end_time</code> target dq end timestamp</li>
<li><code>dq_date</code> Dq executed date</li>
<li><code>dq_time</code> Dq executed timestamp</li>
<li><code>dq_job_metadata_info</code> dq job metadata</li>
</ol>





                
              </article>
            </div>
          
          
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Nike
    </div>
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.annotate", "content.tooltips", "content.code.copy", "navigation.expand", "navigation.indexes", "navigation.instant", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "navigation.expand", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../../assets/javascripts/workers/search.a264c092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": "latest", "provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.4e0fa4ba.min.js"></script>
      
    
  </body>
</html>